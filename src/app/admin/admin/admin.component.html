<div class="container-fluid headerss">

    <!--______Call FIXED schedule and account settings_____-->
    <div class="fixedDiv" *ngIf="conditionFixDiv" (click)="funcErase()">
        <div class="container" style="min-height:100%;display: flex;justify-content: center;align-items: center;" (click)="$event.stopPropagation()">

            <!--__________THIS IS FOR Have same arrival date when accepting appointment DIV_______________-->
            <div *ngIf="arrHandle[0] === 'haveSame'" class="havePopup">
                <div class="container boxHS">
                    <div style="display: flex;justify-content: space-between;margin-bottom: 20px;">
                        <div class="paCancel">
                            <span>{{arrHandle[1]}}</span>
                        </div>
                    </div>

                    <div class="paMe">{{arrHandle[2]}}</div>
                    
                    <div>
                        <div style="max-width:120px;float: right;display: flex;">
                            <div class="paYes" (click)="yesNO(true)">YES</div>
                            <div class="paNo" (click)="yesNO(false)">NO</div>
                        </div>
                    </div>
                </div>
            </div>

            <!--________________THIS IS FOR SET TIME__________________-->
            <div *ngIf="arrHandle[0] === 'time'" class="container divSetTime">
                <p class="paX" (click)="funcErase()">X</p>
                <p class="paTime">Set Time</p>

                <div style="margin-bottom:25px;">
                    <p class="paME">{{arrHandle[1]}}</p>
                    <p class="paInter">{{arrHandle[2]}}</p>

                    <div style="display:flex;justify-content: center;margin-top:35px;">
                        <div>
                            <input type="number" [min]="arrHandle[3]" [max]="arrHandle[4]" (input)="funcOnInputHours()"
                            class="form-control hours hourss" />
                            <p class="paMinH">hours</p>
                        </div>
                        <span class="pS">:</span>
                        <div>
                            <input type="number" min="00" max="59" class="form-control hours minutess" (input)="funcOnInputMinutes()" />
                            <p class="paMinH">minutes</p>
                        </div>
                    </div>
                </div>

                <div style="display: flex;justify-content: center;">
                    <button class="btn btn-primary btnSet" (click)="set()">Set</button>
                </div>
            </div>


            <!--___________________THIS IS FOR CHANGE PASSWORD______________________-->
            <div *ngIf="arrHandle[0] === 'ChangePassAdmin'" class="container chPass">
                <p class="paX" (click)="conditionFixDiv = false">X</p>
                <p class="paForgotPass">Change Password</p>

                <div [formGroup]="formGroup_newPassword"  style="padding:0px 20px 10px 20px;margin-top:30px;">
                    <div style="margin-bottom:20px;">
                        <input type="password" formControlName="currentPass" placeholder="Enter your current password" class="form-control forminputReg" />
                        <div *ngIf="errArrPassword[0][0]">
                            <span class="paError">{{errArrPassword[0][1]}}</span>
                        </div>
                    </div>
                    <div style="margin-bottom:10px;">
                        <input type="password" formControlName="newPass" placeholder="Enter your new password" class="form-control forminputReg" />
                        <div *ngIf="errArrPassword[1][0]">
                            <span class="paError">{{errArrPassword[1][1]}}</span>
                        </div>
                    </div>

                    <button class="btn btn-primary passwordChange" (click)="changePassword()">Change</button>
                </div>
            </div>


            <!--___________________THIS IS FOR POP-UP changing Password______________________-->
            <div *ngIf="arrHandle[0] === 'popUPChangePassAdmin'" class="container divSuccesschangePass">
                <div class="container-fluid">
                    <div style="display: flex;justify-content: center;">
                        <p class="paSuccessChange">Successfully changing your password!</p>
                    </div>
                    <button class="btn btn-primary passwordChange" (click)="successChange()">Close</button>
                </div>
            </div>

        </div>
    </div>



    <!--______Call FIXED ROOMS and RESERVATION_____-->
    <div class="fixedDiv" *ngIf="conditionFixDiv2" (click)="funcCloseReseroom(false)">
        <div class="container" style="min-height:100%;padding:10px;display:flex;justify-content: center;align-items: center;">    
            
            <!--_________________THIS IS LOADING PROGRESS__________________-->
            <div *ngIf="this.arrHandle[0] === 'progress'" (click)="$event.stopPropagation()" class="divProgress">
                <div class="container" style="padding:0%;position: relative;">
                    <div>
                        <!--___Percent text___-->
                        <div class="numberProgress" [ngStyle]="{'position': 'absolute', 
                        'top': arrHandle[1] == 100 ? '24%':'29%'}">{{arrHandle[1]}}%</div>
                        <!--___Progress animation___-->
                        <label [ngClass]="['container', arrHandle[1] == 100 ? 'progressStop': 'progressStart']">
                            <div class="container checkDiv" [ngStyle]="{'display': arrHandle[1] != 100 ? 'none': 'block'}">
                                <div class="container check-icon"></div>
                            </div>
                        </label>
                    </div>

                    <div style="margin-top:20px;">
                        <p class="paMessLoading" *ngIf="arrHandle[1] != 100">This may take for a while. Please wait.</p>
                        <p class="paMessLoading" *ngIf="arrHandle[1] == 100">{{arrHandle[2]}}</p>
                        <div style="display: flex;justify-content: center;" *ngIf="arrHandle[1] == 100">
                            <button class="btn btn-primary btnfinishUpload" (click)="conditionFixDiv2=false">Finish</button>
                        </div>
                    </div>
                </div>
            </div>

            <!--________________THIS IS FOR WARNING ALERT THE ADMIN___________________-->
            <div *ngIf="this.arrHandle[0] === 'warning'" (click)="$event.stopPropagation()" class="havePopup">
                <div class="container boxHS">
                    <div style="display: flex;justify-content: space-between;margin-bottom: 20px;">
                        <div class="paCancel">
                            <span>Already reserved</span>
                        </div>
                    </div>

                    <div class="paMe">The room is already reserved by someone.</div>
                    
                    <div>
                        <div style="max-width:120px;float: right;">
                            <div class="paNo" (click)="conditionFixDiv2 = false">OK</div>
                        </div>
                    </div>
                </div>
            </div>

            
            <!--___________________THIS IS FOR SHOWING THE RESERVATION INFORMATION_______________________-->
            <div *ngIf="this.arrHandle[0] === 'reservation_info'" class="divReservation" (click)="$event.stopPropagation()">
                
                <div style="display: flex;justify-content: space-between;">
                    <span class="paX2" (click)="funcCloseReseroom(false)">X</span>
                    <div></div>
                </div>

                <!-- __IMG TRANSACTION__ -->
                <div class="imageAddDiv">
                    <p class="paImageS" style="margin:0%;">Image transactions:</p>
                    <span class="paLMes">The provided payment image transaction of the user.</span>

                    <!-- __IMG__ -->
                    <div class="divForAdded" style="margin-top:15px;">
                        <p *ngIf="this.arrHandle[1].image_transaction.length == 0" class="paNoone" style="margin:0%;">No provided image.</p>
                        <!-- __IMAGES CREATE__ -->
                        <div *ngFor="let url of this.arrHandle[1].image_transaction; index as indexes"  class="addImageR">
                            <div class="addImageR">
                                <img [src]="url[0]" class="img-fluid" style="width:100%;height:100%;" />
                            </div>
                        </div>
                    </div>
                </div>

                <!-- __INFORMATION OF RESERVATION__ -->
                <div style="margin-bottom:15px;">
                    <p class="paRInfoT">Information of reservation:</p>

                    <div class="row" style="padding:0%;margin-top:5px;">

                        <!--__filled information__-->
                        <div class="col-6">
                            <div style="margin-top:10px;">
                                
                                <div class="row">
                                    <div class="col-6">
                                        <label class="labels">First name:</label>
                                        <input type="text"  [value]="this.arrHandle[1].first_name" class="form-control forminputs" />
                                    </div>
                                    <div class="col-6">
                                        <label class="labels">Last name:</label>
                                        <input type="text" [value]="this.arrHandle[1].last_name" class="form-control forminputs" />
                                    </div>
                                    <div class="col-12" style="margin-top:10px;">
                                        <label class="labels">Email:</label>
                                        <input type="text" [value]="this.arrHandle[1].email" class="form-control forminputs" />
                                    </div>
                                    <div class="col-12" style="margin-top:10px;">
                                        <label class="labels">Contact number:</label>
                                        <input type="text" [value]="this.arrHandle[1].phone_number" class="form-control forminputs" />
                                    </div>
                                </div>
                            </div>  
                        </div>
                        
                        <!--__details of reservation including "confirmation date"__-->
                        <div class="col-6">
                            <div class="divDetails">

                                <div style="display: flex;justify-content: center;">

                                    <!--____Check in____-->
                                    <div class="divCheckInOut" style="margin-right:20px;">
                                        <p class="paCheckINOut" style="font-family: inter_bold; color:#FFD700;">CHECK IN</p>
                                        <p class="paNumbCheckInOut">{{dateCheckOutCheckIn(this.arrHandle[1].checkin_date, [1])}}</p>
                                        <p class="paCheckINOut" style="font-family: inter_regular;color:white">
                                            {{dateCheckOutCheckIn(this.arrHandle[1].checkin_date, [0,2])}}
                                        </p>
                                    </div>

                                    <!--____Check out____-->
                                    <div class="divCheckInOut">
                                        <p class="paCheckINOut" style="font-family: inter_bold; color:#FFD700;">CHECK OUT</p>
                                        <p class="paNumbCheckInOut">{{dateCheckOutCheckIn(this.arrHandle[1].checkout_date, [1])}}</p>
                                        <p class="paCheckINOut" style="font-family: inter_regular;color:white">
                                            {{dateCheckOutCheckIn(this.arrHandle[1].checkout_date, [0,2])}}
                                        </p>
                                    </div>
                                </div>

                                <!--___DETAILS___-->
                                <div style="margin-top:20px;">
                                    <div class="pdetails">Details</div>

                                    <div class="paDetailsMiddle">
                                        <span style="font-family: inter_medium !important;">Confirmation date</span>
                                        <span>{{this.arrHandle[1].confirmation_date}}</span>
                                    </div>

                                    <div class="paDetailsMiddle">
                                        <span style="font-family: inter_medium !important;">Transaction date</span>
                                        <span>{{this.arrHandle[1].transaction_date}}</span>
                                    </div>

                                    <div class="paDetailsMiddle">
                                        <span style="font-family: inter_medium !important;">{{this.arrHandle[1].acquired_persons}} persons</span>
                                        <span>{{this.arrHandle[1].persons_price}}</span>
                                    </div>

                                    <div class="paDetailsMiddle">
                                        <span style="font-family: inter_medium !important;">Total price a day</span>
                                        <span>{{this.arrHandle[1].total_day_price}}</span>
                                    </div>

                                    <div class="paDetailsMiddle">
                                        <span style="font-family: inter_medium !important;">Price</span>
                                        <span>{{this.arrHandle[1].defaultPrice}}</span>
                                    </div>

                                    <div class="pdetails" style="margin-top:10px;display: flex;justify-content: space-between;background:#5C5656 !important;">
                                        <span>Total</span>
                                        <span>{{this.arrHandle[1].total_price}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="display:flex;justify-content: center;">
                    <button class="btn btn-danger btnDeleteRequest" (click)="funcCloseReseroom(true)">Delete request</button>
                </div> 
            </div>

        </div>
    </div>

    <!--____________Call see image_______________-->
    <div class="imageDivSee" *ngIf="conditionFixDiv2 && conditionSeeImage" (click)="closeImage()">
        <div style="height:100%;padding:10px 0px 30px 20px;">
            <div style="height:100%;" (click)="$event.stopPropagation()">
                <span class="paX3" (click)="closeImage()">X</span>
            </div>
        </div>  
    </div>


    <!--____________________background image____________________-->
    <div class="img_icon">
        <img src="/assets/icon/admin_231.png" class="img-fluid" style="width:100%;height:100%;" />
    </div>
    <div class="main">


        <!--_________________________ADMIN NAVIGATION_____________________________-->
        <div class="container components">

            <!--_____________Header names_____________-->
            <div class="divHeader-compo">
                <div>
                    <div style="display: flex;justify-content: center;">
                        <img src="/assets/logo/logo.png" class="img-fluid" style="height:110px;margin-bottom:10px;" />
                    </div>

                    <p class="pName">Abegeil Padilla</p>
                    <p class="pAdmin">Administrator</p>
                </div>
            </div>

            <!--_____________Components_____________-->
            <div class="divCompo-body">
                <p class="pComponent">Components</p>

                <div [ngClass]="['div_clickables_compo', num_selectionCondition == 0 ? 'backgrondDiv':'']" (click)="funcSelected(0)">
                    <div style="width:25%;">
                        <img src="/assets/icon/inbox_admin.png" class="img-fluid" style="height:20px;"  />
                    </div>
                    <div style="width:75%;display: flex;align-items: center;">
                        <span class="sNameCompo">Mail Inbox</span>
                    </div>
                </div>

                <div [ngClass]="['div_clickables_compo', num_selectionCondition == 1 ? 'backgrondDiv':'']" (click)="funcSelected(1)">
                    <div style="width:25%;">
                        <img src="/assets/icon/sched_admin.png" class="img-fluid" style="height:30px;"  />
                    </div>
                    <div style="width:75%;display: flex;align-items: center;">
                        <span class="sNameCompo">Schedules</span>
                    </div>
                </div>

                <div [ngClass]="['div_clickables_compo', num_selectionCondition == 2 ? 'backgrondDiv':'']" (click)="funcSelected(2)">
                    <div style="width:25%;">
                        <img src="/assets/icon/rooms_admin.png" class="img-fluid" style="height:30px;"  />
                    </div>
                    <div style="width:75%;display: flex;align-items: center;">
                        <span class="sNameCompo">Rooms</span>
                    </div>
                </div>

                <div [ngClass]="['div_clickables_compo', num_selectionCondition == 3 ? 'backgrondDiv':'']" (click)="funcSelected(3)">
                    <div style="width:25%;">
                        <img src="/assets/icon/reservation.png" class="img-fluid" style="width:80%;height:33px;"  />
                    </div>
                    <div style="width:75%;display: flex;align-items: center;">
                        <span class="sNameCompo">Reservations</span>
                    </div>
                </div>

                <div [ngClass]="['div_clickables_compo', num_selectionCondition == 4 ? 'backgrondDiv':'']" (click)="funcSelected(4)">
                    <div style="width:25%;">
                        <img src="/assets/icon/account_admin.png" class="img-fluid" style="height:30px;"  />
                    </div>
                    <div style="width:75%;display: flex;align-items: center;">
                        <span class="sNameCompo">Account setting</span>
                    </div>
                </div>


                <div [ngClass]="['div_clickables_compo', num_selectionCondition == 5 ? 'backgrondDiv':'']" (click)="funcSelected(5)">
                    <div style="width:25%;">
                        <img src="/assets/icon/logout_admin.png" class="img-fluid" style="height:30px;"  />
                    </div>
                    <div style="width:75%;display: flex;align-items: center;">
                        <span class="sNameCompo">Logout</span>
                    </div>
                </div>
            </div>
        </div>


        <!--_____________________ALL THE ADMIN ROUTER___________________________-->
        <div class="routers">
            <div class="routers_through" [ngStyle]="{ 'background': num_selectionCondition != 4 ? 'white':'none' }" >
                <router-outlet></router-outlet>
            </div>
        </div>
    </div>
</div>
